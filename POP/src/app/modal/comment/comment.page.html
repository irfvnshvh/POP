<!-- <ion-header>
  <ion-toolbar>
    <ion-title>Comments</ion-title>
  </ion-toolbar>
</ion-header> -->

<ion-content>
  <div id="discover-gallery" *ngFor="let discoverpost of discoverposts">
    <ng-container *ngIf = "discoverpost.postid == postid">
    <ion-item style=" --ion-card-background: #FFFFFF;">
      <ion-card style="width:100%;">
      <ion-card-header style="width:100%; height:30px ;margin: 10px 0;">
      <ion-card-subtitle>
        <div class="small-user" style="width:100%; float:left;"><a href="/home/profiles/{{ discoverpost.usersid }}">{{ discoverpost.usersid }}</a></div>
      </ion-card-subtitle>
      </ion-card-header>
      
        <img src="{{ discoverpost.posturl }}" style="width:100%; height:300px ;margin: 30px 0;">

        <div class="bars" style="margin: 30px 0; width:100%; height: 10vh;">

        <div class="left-bar" style="width:75%; float: left"> 
          <p>{{ discoverpost.postdesc }}</p>
        </div>

      <div class="right-bar" style="display:flex; flex-direction: column; float:right;">
         <ion-button (click)="like(discoverpost)" class="like like{{ discoverpost.postid }}" [ngClass]="{'hide' : discoverpost.likedusersid == currentsid }" fill="clear"><ion-icon slot="icon-only" name="heart-outline"></ion-icon></ion-button>
        <ion-button (click)="unlike()" class="unlike unlike{{ discoverpost.postid }}" [ngClass]="{'hide' : discoverpost.likedusersid !== currentsid }" fill="clear"><ion-icon slot="icon-only" name="heart"></ion-icon></ion-button>
        <span id="like-counter">{{ discoverpost.likes }}</span>

        <ion-button (click)="dismiss()" class="comment" fill="clear"><ion-icon slot="icon-only" name="chatbox-outline"></ion-icon></ion-button>
        <span id="comment-counter">{{ discoverpost.comments }}</span>
      </div>
      </div>
        <p style="float:right; display:block; margin: 30px 0">{{ discoverpost.postdate }}</p>
        </ion-card>
    </ion-item>
    </ng-container>
  </div>

  <ion-item id="comment-input">
    <ion-input clearInput inputmode="text" type="text" min-length="1"><ion-label>Comment:</ion-label></ion-input>
    <ion-button item-right (click)="comment(discoverpost.postid)" class="send-button" fill="clear">Send</ion-button>
  </ion-item>

  <div id="comments-section" *ngFor="let commentdata of commentdatas">
    <ng-container *ngIf = "commentdata.commentpostid == postid">
    <ion-item>
      <ion-label>
        <strong>{{ commentdata.commentusersid }}</strong>
        <p>{{ commentdata.commentfield }}</p>
      </ion-label>
    </ion-item>
    </ng-container>
  </div>
</ion-content>
